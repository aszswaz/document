### 后台运行程序的两种方式介绍

### 第一种：

以java运行jar包为例

```bash
$ java -jar *.jar & # "&"的作用就是将程序挂在后台运行
# ctrl+z快捷键可将程序暂停, 并放入后台
$ jobs -l # 查看当前后台任务, 以及详细信息
[1]+ 19636 Stopped                 sh help/start-console.sh
$ bg 1 # 将上述序号为"1"的任务转为后台执行
$ fg 1 # 将上述序号为"1"的任务转为前台执行
$ kill # 命令进程退出
```

<span style="background-color:yellow">以上所有的指令, 除了"kill"外, 其他指令只对当前会话运行的程序有效</span>

### 第二种使用nohup

以java运行jar包为例

```bash
$ nohup java -jar *.jar >nohup.out 2>&1 &
```

nohup可以让shell终端（或者远程ssh终端退出）时，不会影响后台执行程序，要终止进程可以使用kill pid杀死进程，同时程序原本应该输出在
在终端的流，会被重定向到文档中。如果没有指定文件名称，则为当前目录的nohup.out文件。

但是当服务长时间运行时就会产生大量的log，很多时候打印到控制台的信息是并不希望保存的，所以以上命令改为如下命令

```bash
$ nohup java -jar *.jar >/dev/null 2>&1 &
```

“**/dev/null**”在linux中，这个路径是一个无底洞，所有传入这个路径的字节流都会彻底消失，不会留存

**上述命令中`2>&1`的含义如下：**

**1**：在linux中表示标准输出流，该输出流是输出向屏幕的终端或者命令行，nohup会对这种输出流重定向

**2**：在linux中表示标准错误输出流，`2>&1`就是指定标准输出流执行的动作与标准输出流一致，一样需要被nohup重定向